# Databricks Asset Bundle configuration, more info here: https://docs.databricks.com/en/dev-tools/bundles/settings.html
bundle:
  name: "ehr-project-bundle"

include:
  - resources/setup.job.yml
  - resources/cleanup.job.yml
  - resources/ats_data_processing.job.yml

variables:
  target_catalog:
    description: The Catalog name of the target environment
    default: ehr_dev
  
  target_db:
    description: The db name of the target environment
    default: ats_db

targets:
  # The 'dev' target, for development purposes. This target is the default.
  dev:
    default: true
    workspace:
      host: https://adb-xxxxxxxxxxxxxxxx.xx.azuredatabricks.net
      root_path: /Workspace/Users/${workspace.current_user.userName}/${bundle.target}/${bundle.name}

  # The 'prod' target, used for production deployment.
  uat:
    workspace:
      host: https://adb-xxxxxxxxxxxxxxxx.xx.azuredatabricks.net
      root_path: /Workspace/Users/${workspace.current_user.userName}/${bundle.target}/${bundle.name}
    variables:
      target_catalog: ehr_uat
      target_db:  ats_db
